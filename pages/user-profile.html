<!DOCTYPE html>
<html lang="en">
   <head>
        <meta charset="UTF-8">
        <title>User Info</title>
        <link href="../style/ProfileStyle.css" rel="stylesheet">
   </head>
   <body>
        <div class="user-header">
            <h2><i>User Info</i></h2>
        </div>

        <div>
            <table class="user-info">
                <tr>
                    <td><strong>Full Name:</strong></td>
                    <td><em id="fullname"></em></td>
                </tr>
                <tr>
                    <td><strong>Address 1:</strong></td>
                    <td><em id="address1"></em></td>
                </tr>
                <tr>
                    <td><strong>Address 2:</strong></td>
                    <td><em id="address2"></em></td>
                </tr>
                <tr>
                    <td><strong>City:</strong></td>
                    <td><em id="city"></em></td>
                </tr>
                <tr>
                    <td><strong>State:</strong></td>
                    <td><em id="state"></em></td>
                </tr>
                <tr>
                    <td><strong>Zipcode:</strong></td>
                    <td><em id="zipcode"></em></td>
                </tr>
            </table>
        </div>

        <div class="fuelquote-header">
            <h2><i>Fuel Quotes History</i></h2>
        </div>

        <div class="quote-history-container">
            <!-- hardcoding values for Assignment2 -->
            <table>
                <tr>
                    <th>Gallons</th>
                    <th>Delivery Address</th>
                    <th>Delivery Date</th>
                    <th>Price per Gallon</th>
                    <th>Total</th>
                </tr>
                
                <tr>
                    <td>20</td>
                    <td>1234 Washington Blvd, Houston, TX</td>
                    <td>12/1/2023</td>
                    <td>$2.50</td>
                    <td>$50</td>
                </tr>
                <tr>
                    <td>20</td>
                    <td>1234 Washington Blvd, Houston, TX</td>
                    <td>12/27/2023</td>
                    <td>$2.99</td>
                    <td>$59.80</td>
                </tr>
                <tr>
                    <td>15</td>
                    <td>1234 Washington Blvd, Houston, TX</td>
                    <td>1/15/2024</td>
                    <td>$3.15</td>
                    <td>$47.25</td>
                </tr>
            </table>
        </div>
      <script>
            // Fetch user profile data from the server
            fetch('/user-profile')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('fullname').innerText = data.fullname;
                    document.getElementById('address1').innerText = data.address1;
                    document.getElementById('address2').innerText = data.address2 || 'N/A';
                    document.getElementById('city').innerText = data.city;
                    document.getElementById('state').innerText = data.state;
                    document.getElementById('zipcode').innerText = data.zipcode;
                })
                .catch(error => console.error('Error fetching user profile:', error));
        </script>
   </body>

</html>
